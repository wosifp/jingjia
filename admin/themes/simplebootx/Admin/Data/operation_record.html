<admintpl file="header" />
</head>
<!-- <script src="__PUBLIC__/js/jqueryh/jquery-3.3.1.min.js"></script> -->
<script src="__PUBLIC__/js/jquery.js"></script>
<link href="__PUBLIC__/admin/css/bootstrap.min.css" rel="stylesheet">
<link href="__PUBLIC__/admin/css/style.css" rel="stylesheet" type="text/css" />
<script src="__PUBLIC__/admin/js/bootstrap.min.js" type="text/javascript"></script>
<script src="__PUBLIC__/admin/js/style.js" type="text/javascript"></script>
<script src="__PUBLIC__/js/jquery-ui.min.js"></script>
<!--<script src="__PUBLIC__/admin/js/laydate.js"></script>-->
<!--<link type="text/css" rel="stylesheet" href="__PUBLIC__/admin/css/laydate.css">-->
<!--<link type="text/css" rel="stylesheet" href="__PUBLIC__/admin/css/laydate(1).css" id="LayDateSkin">-->
<script src="__PUBLIC__/js/datePicker/laydate/laydate.js"></script>
<script src="__PUBLIC__/js/echarts/echarts.min.js"></script>
<script src="__PUBLIC__/js/echarts/china.js"></script>
<script src="__PUBLIC__/tree-multiselect/jquery.tree-multiselect.js"></script>
<link rel="stylesheet" href="__PUBLIC__/tree-multiselect/jquery.tree-multiselect.min.css">
<link type="text/css" rel="stylesheet" href="__PUBLIC__/js/jsgrid/jsgrid.css" />
<link type="text/css" rel="stylesheet" href="__PUBLIC__/js/jsgrid/jsgrid-theme.css" />
    
<script type="text/javascript" src="__PUBLIC__/js/jsgrid/jsgrid.js"></script>
<body>
    <div class="qi_right_1">
        <div class="qi_con_1">
            <ul class="pager" id="pager_select">
                <li><a href="#">账户</a></li>
                <li><a href="#">计划</a></li>
                <li><a href="#">单元</a></li>
                <li><a href="#">关键词</a></li>
                <li><a href="#">创意</a></li>
            </ul>
        </div>
        <div class="qi_con_1">
            <div class="qi_float_l qi_bfb_30">
                <p class="qi_p_2">
                    范围：<a class="btn btn-default" href="javascript:" role="button">选择 <span class="caret"></span></a>
                </p>
                <div id="firstpane" class="menu_list" style="display:none">
                    <hr>
                    <select id="mytreeselect" multiple="multiple"></select>
                    <button id="send_mytree" class="btn">确定</button>
                </div>
            </div>
            <!--设备-->
            <div class="qi_float_l qi_bfb_30">
                设备：
                <select id="device">
                    <option value="0">全部</option>
                    <option value="2">PC</option>
                    <option value="1">移动</option>
                </select>
            </div>
            <!--设备 end-->
            <!--时间-->
            <div class="qi_float_l qi_bfb_30">
                时间：
                <input type="text" name="date_pick" id="datepicker1">
                <script>
                laydate.render({
                    elem: '#datepicker1',
                    range: true, //指定元素
                    done: function(value) {
                        $.ajax({
                            type: "post",
                            url: "/Admin/Data/operation_record",
                            data: {
                                datepicker: value,
                                abcd:"sdf"

                            },
                            dataType: "json",
                            success: function(data) {
                                console.log(data);
                            }
                        });
                    }
                });
                </script>
            </div>
            <!--时间 end-->
            <div class="qi_float_l qi_bfb_30" id="zhanghu" style="color: red">
            </div>
        </div>
        <div class="qi_con_1">
            
            <!--计划单元关键词创意选择pager_select-->
            <script type="text/javascript">
            $("#pager_select a").click(function(event) {
                /* Act on the event */

                $value1 = $(this).text();
                console.log($value1);
                $.ajax({
                    type: "post",
                    url: "/Admin/Ajax/handle_data_check",
                    data: {
                        pager_select: $value1
                    },
                    async: false,
                    dataType: "json",
                    success: function(data) {

                        $test_data = data.data;

                    }
                });
                $("#mytreeselect").empty();
                $("#firstpane div").empty();
                $("#firstpane div").remove();
                // $test_data =$.parseJSON('{$page_1}');
                console.log($test_data);
                if ($value1 == "计划") {
                    $.each($test_data, function(index, val) {
                        $.each(val, function(index1, val1) {
                            $("#mytreeselect ").append('<option value=' + val1.campaignId + ' data-section="' + index + '">' + val1.campaignName + '</option>');
                        });
                    });
                }
                if ($value1 == "单元") {
                    $.each($test_data, function(index, val) {

                        $.each(val, function(index1, val1) {
            
                            $.each(val1, function(index2, val2) {
                                 /* iterate through array or object */
                                 $("#mytreeselect ").append('<option value=' + val2.adgroupId + ' data-section="' + index+'/'+index1 + '">' + val2.adgroupName + '</option>');
                            });
                        });
                    });
                }
                if ($value1=="关键词") {
$.each($test_data, function(index, val) {
                    $.each(val, function(index1, val1) {
                            $.each(val1, function(index2, val2) {
                                 $.each(val2, function(index3, val3) {
$("#mytreeselect ").append('<option value=' + val3.keywordId + ' data-section="' + index+'/'+index1 +'/'+index2+ '">' + val3.keyword + '</option>'); 
                                 });
                                 
                            });
                        });
                    });  
                }
                if ($value1=="创意") {
$.each($test_data, function(index, val) {
                    $.each(val, function(index1, val1) {
                            $.each(val1, function(index2, val2) {
                                 $.each(val2, function(index3, val3) {
$("#mytreeselect ").append('<option value=' + val3.creativeId + ' data-section="' + index+'/'+index1 +'/'+index2+ '">' + val3.title + '</option>'); 
                                 });
                                 
                            });
                        });
                    });  
                }


                $tree1 = $("#mytreeselect").treeMultiselect({
                    allowBatchSelection: true,
                    enableSelectAll: true,
                    searchable: true,
                    sortable: true,
                    startCollapsed: true,
                    onChange: function(text, value, initialIndex, section) {
                        $temp = text;
                    }
                });


            });
            </script>
    </div>
</body>

</html>
